## 团队实战项目

### 实战目的

独立完成移动租房网页的整体布局，掌握移动端常见布局思路

### 实战项目前置知识

```css
1. 熟悉开发流程
   需求产出原型图（产品经理） ->  根据原型图产出设计稿（UI） -> 根据UI图还原开发（前端）
   -> 开发完成交付测试（测试）->  测试完成交付验收（UI验收/产品验收）

2. 认真核对需求 （UI/产品）
   1. 需求是否合理
   2. 需求在技术上能否实现 （技术手段上思考）
   3. 需求的工期是否合理 （及时提出延期预警，请求排一下优先级）如果时间不够优先完成优先级高的
   注意：尽量保持做需求之前和设计产品等上游角色沟通清楚

3. 熟悉项目优先级和工期估算
   1.遇到项目并行排好优先级
   2.自己估算的时间要比实际的开发时间多要1-3天（预留处理紧急情况的时间）

4. 认识移动端主流设计稿
   以iphone6/7/8为参考的750像素 2倍屏
```

### 实战项目要求及规范

#### 需求描述

```css
主要需求：按照要求高度还原租房设计稿
```

成品效果展示：https://cp_fe.gitee.io/all/

#### 适配要求

```css
1. 弹性盒子 + px单位为主 vw/rem单位为辅 
2. phone6/7/8还原度要求95%以上
3. 其他设备不得出现遮挡、塌陷、布局错乱、横向滚动条等情况
4. 最小适配设备为iphone5 320px  最大设配设备为iphone8plus(ipad能正常查看内容即可)
```

#### 项目工期

```css
1 人/天
```

#### 代码规范

```css
1. 类名语义化,尽量精短、明确，必须以字母开头命名，且全部字母为小写，单词之间统一使用下划线“_” 连接
2. 类名嵌套层次尽量不超过三层
3. 尽量避免直接使用元素选择器
4. 属性书写顺序
   布局定位属性：display / position / float / clear / visibility / overflow
   尺寸属性：width / height / margin / padding / border / background
   文本属性：color / font / text-decoration / text-align / vertical-align
   其他属性（CSS3）：content / cursor / border-radius / box-shadow / text-shadow
5. 避免使用id选择器
6. 避免使用通配符*和!important
```

#### 目录规范

```sh
  house              # 项目目录
    ├── css          # 样式文件夹
    ├── iconfont     # 字体图标文件夹
    ├── imgs         # 业务图片文件夹
    ├── icons        # 样式类图片文件夹
    └── index.html   # 首页
```

### 具体实施流程

1. 认真核对需求描述，明白要做什么
2. 认真核对适配要求，明白要做到什么程度
3. 按照目录规范创建项目目录
4. 拿到UI设计稿，进入页面研发
5. 用主流的弹性布局方案配合其他相关布局方式完成页面的研发工作
6. 研发完成之后自行测试页面的适配效果，有无明显适配缺陷（错乱、高度弹性、横向滚动条等）
7. 项目交付，将完成的成品网页打包发给老师

### 技术方案参考

```css
1. 整体模块划分（header/scrollBox/footer）
   解决方案：
    0. 弹性盒子（纵向俩端固定中间自适应）
    1. 统一使用固定定位  让中间盒子的top等于上面盒子的高度，bottom等于下面盒子的高度达到自动适配高度的效果
    2. 头部和底部区域使用固定定位，然后给body一个上边距和下边距分别等于顶部盒子和底部盒子的高度

   推荐使用第一种：省事且不需要其他padding/margin等属性的参与计算，以后还会避免一些滚动bug

2. header区域
   分析：典型的两端固定中间自适应  
   解决方案：
     1.弹性盒子  固定像素 + flex:1
     2.绝对定位  中间盒子的left等于左边盒子的宽度，right等于右边盒子的宽度
   举一反三：左侧固定右侧自适应 / 右侧固定左侧自适应

3. header区域的中间seacrh区域
   解决方案：
    1.新嵌套一个盒子，让这个盒子负责3个功能  分别是左侧的放大镜背景图/ 圆角效果 / 灰色背景色
    2.为了正确显示左侧的放大镜，给盒子一个左边的padding值，将背景图的空间预留出来
   好处：
    1.input本身是个浏览器内置组件，有很多自己默认的样式，强烈不建议使用它进行一些额外的布局样式处理
    2.将功能集中于一个包裹元素上，产生一个功能分离统一的效果

4. 整租/合租区域（超级优惠区域同理）
   分析：这俩块区域是非常常见的中间有固定间隙，俩侧盒子均分剩余宽度的案例
   解决方案（gap意思为间隙）：
    1.弹性盒子 justify-content:space-between + calc((100% - gap)/2)
    2.各占百分之五十 左盒子往左padding-right:gap/2  右盒子：padding-left:gap/2
   举一反三：
    如果一行是三个盒子，俩个间隙固定一个像素值该如何解决？
    如果有多行该怎么处理？

5. 推荐区域
   分析：经典的按照份数分割区块
   解决方案：弹性盒子  
   坑：弹性容器中的子项的宽度比较‘弱势’,遇到某些情况容器被撑爆，比如说单行文本溢出
   解决方案：给以flex:2为宽度的盒子一个overflow：hidden就可以解决单行文本溢出的bug

6. 底部导航区域
   分析：非常典型的平分大盒子，并且内部元素需要进行居中处理
   解决方案：弹性盒子嵌套
     1.通过弹性盒子 + flex:1将四个主要区块平分
     2.内部的上下结构需要再使用一个弹性容器，然后修改主轴方向让元素垂直排布，最后使用主轴对齐和侧轴对齐让元素水平居中，垂直居中

7. svg图标转iconfont(如果阿里图标库可用 就转换  如果不可用 自行找相似的图标)
   背景：设计人员对于网络字体图标一般不是太懂，直接交付给前端的多数是svg图标，如果我们想使用网络字体图标需要我们    自己去转化
   操作说明：
     1. 从UI那里拿到svg图标素材
     2. 打开阿里图标库 https://www.iconfont.cn/
     3. 点击上传按钮 上传svg格式的图片
     4. 下载为iconfont字体
```

### 实战项目复盘

#### 总结复盘

```css
1.关于搜索框
  产品角度讲 首页的搜索框只是作为了跳转到实际搜索页面的中介者，不发生实际输入
  技术角度讲 可点击区域可以设置为有灰色背景的整个区域

2.关于滚动
  全局滚动 发生滚动行为的是body元素   默认可以形成滚动
  局部滚动 发生滚动行为的是内部的元素  默认不开启滚动需要手动设置overflow:auto/scroll
  移动端  横向页面上的滚动不能出现  但是内部元素可以使用横向滚动

3.关于UI图设计的边界问题
  实际场景：设计人员未考虑到标题过多情况下的折行问题
  解决方案：
    产品需求会上你能看出来哪里有边界问题，告诉UI这个可能会出现问题
    UI层面超出隐藏  运营层面限制字数

4.关于为了节省标签数量使用不容易扩展的写法
    一个盒子不要赋予太多的作用   
    各个盒子负责的布局功能尽量保持分离统一
  实现一个功能往往有很多很多方式，写一定数量之后，一定要使用产生bug最小的方式，心里负担最小的方式

5.关于移动端布局是否给一个显式的height值
  用于样式的icon图标，可以使用一个明确的宽高来设置
  用于内容展示的img图片，一般不给定死高度,高度随着宽度等比例变换
  用于内容展示的一般盒子，一般不给定高度，由内容撑开

6.关于移动端是否能使用float
  如果你十分的熟练，可以使用，但是移动端有自己特殊优势的布局方式，为啥不用呢
  建议大家多使用弹性盒子，甚至作为一个重中之重来深究

7.关于移动端横向是否可以使用margin
  弹性容器中可以使用，一般不会发生盒子撑破的现象
  非弹性容器中一般不建议使用margin来控制大区块的布局，因为容器产生横向滚动条这在移动端是不能接受的
  更好的方式是使用新的css3盒模型配合padding让空间往里撑而不是往外

8.关于移动端图片的适配问题（特指业务图片img）
  一般我们只需要给img百分之百的宽度，高度让其根据自身原来的宽高比自动撑开即可，然后通过包裹一个父元素做外层的布局

9.关于最小字体问题 12px
  到目前为止chrome内核的浏览器最小支持到12px,如果设计稿中出现了小于12px的情况，可以直接按照UI图的像素值来写，让支持更小像素的浏览器使用更小像素，让不支持的默认回退到12px即可
  可以提前告诉UI关于字体的支持情况

10.关于内部文字数量不能确定的盒子怎么处理
   最好的方式是不给宽高直接通过padding值来撑开，当字数变多也不出问题
   也可以使用vw、rem等单位做局部适配，问题也不大

11.关于大模块的宽度上是否可以使用vw/rem适配
   尽量不这么做，使用更好的弹性盒子或者百分比去做宽度上的流式适配
 
```

#### 自己试着复盘

```css

```

#### 是否合格量化标准

   时间要求  3.5小时之内完成 高质量的完成 （优秀）  5小时是一个及格的水准     8小时算是最晚时间

